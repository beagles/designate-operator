apiVersion: designate.openstack.org/v1beta1
kind: Designate
metadata:
  name: designate
spec:
  databaseInstance: openstack
  databaseAccount: designate
  serviceUser: designate
  rabbitMqClusterName: rabbitmq
  secret: osp-secret
  preserveJobs: false
  customServiceConfig: |
    [DEFAULT]
    debug = true
  defaultConfigOverwrite:
    foo.json: |
      {
        "foo": "bar"
      }
    check.txt: |
      Here is some text for this file.
  designateProducer:
    databaseAccount: designate
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    tls:
      caBundleSecretName: combined-ca-bundle
    defaultConfigOverwrite:
      foo.json: |
        {
          "foo": "this"
        }
      anothercheck.txt: |
        See you later.
      servicefile.txt: |
        designate producer
  designateMdns:
    databaseAccount: designate
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    defaultConfigOverwrite:
      foo.json: |
        {
          "foo": "mdnsoverwrite"
        }
      servicefile.txt: |
        designate mDNS
    networkAttachments:
      - designate
    tls:
      caBundleSecretName: combined-ca-bundle
  designateCentral:
    databaseAccount: designate
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    defaultConfigOverwrite:
      foo.json: |
        {
          "foo": "centraloverwrite"
        }
      servicefile.txt: |
        designate central
    tls:
      caBundleSecretName: combined-ca-bundle
  designateBackendbind9:
    databaseAccount: designate
    replicas: 1
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    storageRequest: 10G
    storageClass: local-storage
    networkAttachments:
      - designate
  designateWorker:
    databaseAccount: designate
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    defaultConfigOverwrite:
      foo.json: |
        {
          "foo": "workeroverwrite"
        }
      servicefile.txt: |
        designate worker
    networkAttachments:
      - designate
    tls:
      caBundleSecretName: combined-ca-bundle
  designateUnbound:
    stubZones:
      - name: foobar.com
        options: {}
      - name: myexample.com
        options: {}
  designateAPI:
    databaseAccount: designate
    serviceUser: designate
    secret: osp-secret
    customServiceConfig: |
      [DEFAULT]
      debug = true
    defaultConfigOverwrite:
      foo.json: |
        {
          "foo": "apioverwrite"
        }
      servicefile.txt: |
        designate api
    tls:
      api:
        internal:
          secretName: cert-designate-internal-svc
        public:
          secretName: cert-designate-public-svc
      caBundleSecretName: combined-ca-bundle
